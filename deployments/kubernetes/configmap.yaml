apiVersion: v1
kind: ConfigMap
metadata:
  name: maia-config
  namespace: maia
  labels:
    app.kubernetes.io/name: maia
    app.kubernetes.io/component: config
data:
  maia.yaml: |
    server:
      http_port: 8080
      grpc_port: 9090
      max_concurrent_requests: 100
      request_timeout: 30s
      cors_origins:
        - "*"
      shutdown_grace_period: 10s

    storage:
      data_dir: /data
      sync_writes: false
      compaction_interval: 1h

    embedding:
      model: local
      dimensions: 384
      batch_size: 32

    log:
      level: info
      format: json
      output: stdout

    memory:
      default_namespace: default
      default_token_budget: 4000
      max_memory_size: 10000
      consolidation_interval: 24h

    security:
      rate_limit_rps: 100
